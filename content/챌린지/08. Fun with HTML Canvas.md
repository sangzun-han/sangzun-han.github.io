---
emoji: 😂
title: 08. Fun with HTML Canvas
date: '2022-06-28 00:00:00'
author: sangzun
tags: 자바스크립트
categories: 챌린지
---

### 08. Fun with HTML Canvas

`canvas`를 이용해 여러가지 효과를 넣는것이 목표인 챌린지이다. 아무것도 주어지지 않은 초기상태에서 어디서부터 시작을 해야할지 아예 감이 잡히지 않아 정답이 포함된 코드를 보면서 풀어나갔다.

문제를 해결해나가는 과정은 아래와 같다.

1. 기본 설정
2. 마우스를 누르고 움직일때마다 변경하기 위한 변수 생성
3. 마우스를 누르고 움직일때마다 변경하기 위한 함수 작성
4. 함수 실행

### 1. 기본설정

```
const canvas = document.querySelector("#draw");
const ctx = canvas.getContext("2d");
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
ctx.strokeStyle = "#BADA55";
ctx.lineJoin = "round";
ctx.lineCap = "round";
ctx.lineWidth = 100;
```

strokeStyle : 도형 주위에 선에 사용할 색상
lineJoin : 두선이 만나는 모서리 유형 ex) round,bavel,miter(기본값)
lineCap : 줄 끝의 유형 ex) round,square,butt(기본값)

### 2. 마우스를 누르고 움직일때마다 변경하기 위한 변수 생성

```
let isDrawing = false;
let lastX = 0;
let lastY = 0;
let hue = 0;
let direction = true;
```

### 3. 마우스를 누르고 움직일때마다 변경하기 위한 함수 생성

```
function draw(event) {
  if (!isDrawing) return;
  ctx.strokeStyle = `hsl(${hue}, 100%, 50%)`;
  ctx.beginPath();
  ctx.moveTo(lastX, lastY);
  ctx.lineTo(event.offsetX, event.offsetY);
  ctx.stroke();
  [lastX, lastY] = [event.offsetX, event.offsetY];
  hue++;
  if (hue >= 360) hue = 0;
  if (ctx.lineWidth >= 100 || ctx.lineWidth <= 1) direction = !direction;

  if (direction) ctx.lineWidth++;
  else ctx.lineWidth--;
}
```

### 4. 함수 실행

```
canvas.addEventListener("mousedown", (event) => {
  isDrawing = true;
  [lastX, lastY] = [event.offsetX, event.offsetY];
});

canvas.addEventListener("mousemove", draw);
canvas.addEventListener("mouseup", () => (isDrawing = false));
canvas.addEventListener("mouseout", () => (isDrawing = false));
```
